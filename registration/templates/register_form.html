<form method="post" enctype="multipart/form-data">
    {% csrf_token %}
    {{ form.as_p }}
    
    <div id="price-display">Price: </div>
    <button type="submit">Proceed to Payment</button>
</form>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const categorySelect = document.getElementById("id_category");
        const priceDisplay = document.getElementById("price-display");
        const categoryPrices = {{ category_prices|safe }};
        
        function updatePriceDisplay() {
            const selectedCategory = categorySelect.value;
            priceDisplay.textContent = `Price: GHS${categoryPrices[selectedCategory] || 0}`;
        }

        categorySelect.addEventListener("change", updatePriceDisplay);
        updatePriceDisplay();  // Initialize on page load
    });
</script>
